# 📋 版本管理系统说明

## 🎯 概述

本项目使用**手动维护**的版本更新记录系统，自动生成版本号和显示版本历史。

## 🔧 版本号规则

**格式**: `major.minor.patch` (例: 1.6.2)

- **major**: 主版本号 (固定为 1)
- **minor**: 次版本号 (feature 类型更新时 +1)
- **patch**: 修订版本号 (fix/optimize 类型更新时 +1)

## 📝 如何添加新版本

### 1. 找到更新记录位置
文件: `script.js` → `generateVersionHistory()` 方法 → `updateCommits` 数组

### 2. 添加新记录格式

**单项更新**:
```javascript
{ updates: [{ message: '新增XXX功能', type: 'feature' }] }
```

**多项更新**:
```javascript
{
    updates: [
        { message: '新增XXX功能', type: 'feature' },
        { message: '修复XXX问题', type: 'fix' },
        { message: '优化XXX体验', type: 'optimize' }
    ]
}
```

### 3. 更新类型说明

| 类型 | 说明 | 版本影响 | 显示标签 |
|------|------|----------|----------|
| `feature` | 新增功能 | minor +1, patch 重置为 0 | 🟢 新增 |
| `fix` | 修复问题 | patch +1 | 🔴 修复 |
| `optimize` | 优化改进 | patch +1 | 🟡 优化 |

### 4. 添加步骤

1. 在 `updateCommits` 数组**末尾**添加新记录
2. 保存文件
3. 刷新页面查看效果

## 🚀 版本号自动计算

### 优先级规则
- 如果更新中包含 `feature` → minor +1, patch 重置
- 如果只有 `fix` 或 `optimize` → patch +1

### 示例计算
```
当前版本: 1.5.3

添加: { updates: [{ message: '新增导出功能', type: 'feature' }] }
结果版本: 1.6.0

添加: { updates: [{ message: '修复按钮问题', type: 'fix' }] }  
结果版本: 1.6.1
```

## 💡 最佳实践

1. **按时间顺序添加**: 新记录放在数组末尾
2. **描述清晰具体**: 说明具体改动内容
3. **类型选择准确**: 根据实际影响选择合适类型
4. **分组相关更新**: 相关的多个更改可放在一个版本中

## 🎨 显示效果

- **当前版本**: 自动显示最新版本号
- **版本历史**: 按时间倒序显示所有更新
- **多项更新**: 显示 "X项更新" 标识
- **类型标签**: 不同颜色区分更新类型

## 📍 注意事项

⚠️ **重要**: 本系统为手动维护，**不会**自动从 git 提交记录获取信息
✅ **优势**: 完全可控，可以精确控制版本号和显示内容
🔄 **更新**: 添加新记录后需要刷新页面才能看到效果 